# プレビュー確認ガイド

最終更新: 2025-08-31

## 正しいプレビュー確認手順

### 1. ビルド・起動
```bash
# editor-proto ディレクトリで実行
.\scripts\preview-build-start.cmd
```

### 2. 確認すべきURL
- **正しいURL**: `http://127.0.0.1:5194`
- **間違い**: `http://127.0.0.1:62031` (これはCascadeの内部プロキシURL)

### 3. 期待される表示内容

#### 4ペインレイアウト（画面幅 > 1400px）
```
┌─────────────┬─────────────┬─────────────┬─────────────┐
│   Scene     │   Editor    │  Preview    │    Wiki     │
│   Panel     │   Panel     │   Panel     │   Panel     │
│             │             │             │             │
│ • シーン1   │ エディタ    │ プレビュー  │ • カテゴリ  │
│ • シーン2   │ (Tiptap)    │ (JSON)      │ • 検索      │
│             │             │             │ • エントリ  │
└─────────────┴─────────────┴─────────────┴─────────────┘
```

#### 2ペインレイアウト（画面幅 1024px-1400px）
```
┌─────────────┬─────────────┐
│   Editor    │  Preview    │
│   Panel     │   Panel     │
│             │             │
│ エディタ    │ プレビュー  │
│ (Tiptap)    │ (JSON)      │
│             │             │
└─────────────┴─────────────┘
```

### 4. トラブルシューティング

#### 問題: 「ようこそ。ここからZenエディタのプロトを始めます。」のみ表示
**原因**: ビルドが最新のコードを反映していない

**解決方法**:
1. プレビューを停止: `.\scripts\preview-stop.cmd`
2. 強制リビルド: `.\scripts\preview-build-start.cmd` (--force フラグ付き)
3. ブラウザのハードリロード: Ctrl+F5

#### 問題: 4ペインが表示されない
**原因**: 画面幅が狭い、またはCSS読み込み失敗

**解決方法**:
1. ブラウザウィンドウを最大化
2. 開発者ツール（F12）でコンソールエラーを確認
3. ネットワークタブでCSS/JSファイルの読み込み状況を確認

### 5. 機能確認チェックリスト

#### 基本機能
- [ ] エディタでテキスト入力
- [ ] プレビューにリアルタイム反映
- [ ] Zenモード切替（Ctrl+Shift+Z）
- [ ] 画像挿入（/image）
- [ ] 選択肢挿入（/choice）

#### シーン管理
- [ ] 左パネルにシーン一覧表示
- [ ] シーン追加（+ボタン）
- [ ] シーン切替でエディタ内容変更

#### Wiki機能
- [ ] 右パネルにWiki表示
- [ ] カテゴリ別エントリ表示
- [ ] 検索機能
